# 个人博客系统 - 需求文档

## 项目概述
基于 Next.js 14 全栈框架开发的个人博客系统，包含前台展示和后台管理功能。

## 语言要求
- **界面语言**: 中文（简体）
- **内容语言**: 中文（简体）
- **日期格式**: 中文格式（如：2024年1月1日）
- **字体优化**: 支持中文字体显示（如：思源黑体、苹方等）
- **时间显示**: 相对时间使用中文（如：刚刚、1分钟前、1小时前、1天前）

## 功能需求清单

### 1. 前台功能

#### 1.1 首页
- ✅ 统计数据展示（文章总数、分类数、标签数、总阅读量）
- ✅ Hero区域（4张图片自动轮播，自然风景风格）
- ✅ 全屏Hero设计（透明导航栏、统计数据、社交链接、轮播指示器）
- ✅ 最新文章列表（3列网格布局）
- ✅ 热门文章侧边栏（底部横向布局，按阅读量排序）
- ✅ 分类列表展示（底部横向布局）
- ✅ 标签云展示（底部横向布局）
- ✅ 文章卡片（毛玻璃磨砂效果，无图片封面）
- ✅ 文章阅读量统计显示
- ✅ 文章发布时间显示（中文格式和相对时间）
- ✅ 文章摘要/预览
- ✅ 分页功能（优化版分页组件）
- ✅ 主题切换按钮（Hero导航栏）

#### 1.2 文章列表页
- ✅ 文章列表展示
- ✅ 分页功能
- ✅ 分类筛选
- ✅ 标签筛选
- ✅ 搜索功能
- ✅ 排序功能（最新/最热）

#### 1.3 文章详情页
- ✅ Markdown 内容渲染
- ✅ 代码高亮显示
- ✅ 文章标题、作者、发布时间（中文格式，样式优化）
- ✅ 阅读量统计（修复 [object Object] bug）
- ✅ 分类/标签显示（样式优化，蓝色主题）
- ✅ 上一篇/下一篇文章导航（样式优化）
- ✅ 相关文章推荐（基于分类和标签，样式优化）
- ✅ 阅读进度条
- ✅ 分享功能（Twitter、Facebook、复制链接、系统分享）
- ✅ 封面图显示和优化（圆角、阴影）
- ✅ Header导航栏统一（与首页Hero导航风格一致）
- ✅ 评论区域样式优化

#### 1.4 分类/标签导航
- ✅ 分类列表页
- ✅ 标签列表页
- ✅ 分类/标签下的文章列表

#### 1.5 搜索功能
- ✅ 全文搜索（标题、内容）
- ✅ 搜索结果高亮
- ✅ 搜索结果分页

#### 1.6 评论功能
- ✅ 文章评论展示
- ✅ 评论发布
- ✅ 评论回复（嵌套回复）
- ✅ 评论审核（管理员审核后显示）
- ✅ 评论者信息（昵称、邮箱）
- ✅ 评论时间显示

#### 1.7 暗色模式
- ✅ 主题切换（亮色/暗色）
- ✅ 主题持久化存储
- ✅ 系统主题跟随

### 2. 后台管理功能

#### 2.1 仪表盘
- ✅ 数据概览（文章总数、评论总数、访问量）
- ✅ 最近文章列表
- ✅ 最近评论列表
- ✅ 访问统计图表
- ✅ 快速操作入口

#### 2.2 文章管理
- ✅ 文章列表展示
- ✅ 文章创建
- ✅ 文章编辑
- ✅ 文章删除
- ✅ 文章搜索
- ✅ 文章状态管理（发布/草稿/私密）
- ✅ 批量操作（批量删除、批量发布）
- ✅ 文章预览

#### 2.3 富文本编辑器
- ✅ Markdown 编辑器支持
- ✅ 实时预览
- ✅ 图片上传
- ✅ 代码块插入
- ✅ 表格插入
- ✅ 文章摘要编辑

#### 2.4 分类管理
- ✅ 分类列表
- ✅ 分类创建
- ✅ 分类编辑
- ✅ 分类删除
- ✅ 分类排序

#### 2.5 标签管理
- ✅ 标签列表
- ✅ 标签创建
- ✅ 标签编辑
- ✅ 标签删除
- ✅ 标签使用统计

#### 2.6 评论管理
- ✅ 评论列表
- ✅ 评论审核（通过/拒绝）
- ✅ 评论删除
- ✅ 评论回复
- ✅ 评论搜索

#### 2.7 用户管理
- ✅ 用户列表（如果支持多用户）
- ✅ 用户创建
- ✅ 用户编辑
- ✅ 用户删除
- ✅ 权限管理

#### 2.8 访问统计
- ✅ 访问量统计
- ✅ 文章阅读量统计
- ✅ 访问趋势图表
- ✅ 热门文章排行

#### 2.9 系统设置
- ✅ 站点基本信息设置
- ✅ SEO 设置
- ✅ 评论设置
- ✅ 主题设置
- ✅ 语言设置（中文界面）

### 3. 用户系统

#### 3.1 认证功能
- ✅ 用户注册
- ✅ 用户登录
- ✅ 用户登出
- ✅ 密码加密存储
- ✅ 登录状态保持
- ✅ 密码重置（可选）

#### 3.2 个人资料管理
- ✅ 个人信息查看
- ✅ 个人信息编辑
- ✅ 头像上传
- ✅ 密码修改

#### 3.3 权限控制
- ✅ 角色管理（管理员/普通用户/访客）
- ✅ 路由权限控制
- ✅ API 权限控制
- ✅ 功能权限控制

## 非功能需求

### 性能要求
- ✅ 页面加载速度 < 2s（已优化）
- ✅ 支持 SSR/SSG 优化
- ✅ 图片懒加载（已实现）
- ✅ 代码分割
- ✅ UI/UX 优化（文章卡片美化、布局优化）
- ✅ 日期格式化优化（中文格式和相对时间）
- ⏳ 骨架屏加载状态（待实现）

### 安全要求
- 密码加密存储（bcrypt）
- XSS 防护
- CSRF 防护
- SQL 注入防护（Prisma ORM）
- 输入验证和过滤

### 兼容性要求
- 响应式设计（移动端适配）
- 现代浏览器支持（Chrome、Firefox、Safari、Edge）
- SEO 友好
- 中文内容支持（字体、排版优化）

### 可维护性
- TypeScript 类型安全
- 代码规范（ESLint、Prettier）
- 组件化开发
- 清晰的代码结构
